<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="generator" content="pandoc">
    <meta name="description" content="Course Exercises">

    <title>Introduction to High Performance Computing</title>
    
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" type="text/css" href="css/bootstrap/bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="css/bootstrap/bootstrap-theme.css" />
    <link rel="stylesheet" type="text/css" href="css/general.css" />
    
    <meta charset="UTF-8" />
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>



  <body class="lesson">

  <!-- global navigation -->
<div id="globalNavigation">
  <!-- global navigation links -->
        <a href="#content"><img src="img/spacer.gif" alt="skip to content" height="1" width="1"></a> <img src="img/spacer.gif" alt=" " height="1" width="1">
		<span><a href="http://www.sheffield.ac.uk/cics/research/" accesskey="1">Home</a> |</span>
		<span><a href="https://sites.google.com/a/sheffield.ac.uk/hpchub/home" accesskey="c">&nbsp;&nbsp; HPChub &nbsp;&nbsp; </a> |</span>
		<span><a href="https://www.sheffield.ac.uk/muse/login" accesskey="m">Log in to MUSE</a></span>
  <!-- // global navigation links -->
   <!-- search engine -->
  <form name="gs" method="get" action="http://google.shef.ac.uk/search" id="searchBox">
     <p>
     <label for="searchterms">Search for</label>
      <input name="q" size="20" maxlength="100" value=" your search" id="searchterms" onfocus="value=''" type="text">
      <!-- <input name="Go" type="submit" value="Go" /> -->
      <input name="btnG" value="Search" class="submit" type="submit">
    </p>
            <input name="sort" value="date:D:L:d1" type="hidden">
            <input name="output" value="xml_no_dtd" type="hidden">
            <input name="ie" value="UTF-8" type="hidden">
            <input name="oe" value="UTF-8" type="hidden">
            <input name="client" value="default_frontend" type="hidden">
            <input name="proxystylesheet" value="default_frontend" type="hidden">
            <input name="site" value="default_collection" type="hidden">
  </form>
  <!-- // search engine -->
</div>
<!-- // global navigation -->




    <div class="container card">

  <table summary="Header Table"><tbody><tr>
	 <td id="headerLeft">
		<div id="headerCrest">
		<a href="http://www.shef.ac.uk/"><img src="img/crest-l.gif" alt="The University of Sheffield"></a>
</div>
    </td>
	<td id="headerRight">
	        <!-- page heading  -->
		  <div id="headerTitle">
		<h1 id="pageTitle">Introduction to High Performance Computing</h1>
		  </div>
		  <!-- // page heading -->
    </td>
  </tr>
 </tbody></table>


      
      <article>
      <div class="row">
        <div class="col-md-10 col-md-offset-1">
                    <h1 class="title">Course Exercises</h1>
          <h2 id="practice-session-1">Practice Session 1</h2>
<ul>
<li>Start an interactive session on iceberg using the Sun Global Desktop</li>
<li>Start a file transfer client and move files to and from iceberg</li>
<li>Extract the course examples, change directory to a directory you will be using for the course and type <sub>~</sub> {.shell} tar –zxvf /usr/local/courses/hpc_intro.tgz <sub>~</sub></li>
</ul>
<section class="challenge panel panel-success">
<div class="panel-heading">
<h2 id="case-study"><span class="glyphicon glyphicon-pencil"></span>Case Study</h2>
</div>
<div class="panel-body">
<p>We are studying inflammation in patients who have been given a new treatment for arthritis we need to analyze the firts sets of inflammation data. The data sets are held in comma separated variable (csv) format. Each row holds the observations for one patient. Each column holds the inflammation measured in one day.</p>
</div>
</section>
<h2 id="practice-session-2">Practice Session 2</h2>
<h3 id="running-applications-on-the-hpc-cluster">Running Applications on the HPC Cluster</h3>
<p>For this practice session we will run the R application The lastest version of R can be loaded with</p>
<pre class="shell"><code> module load apps/R/3.2.0</code></pre>
<p>R can then be run with</p>
<pre class="shell"><code> $ R</code></pre>
<pre class="{r,include=false}"><code> dat &lt;- read.csv(file = &quot;../data/inflammation-01.csv&quot;, header = FALSE)
 avg_day_inflammation &lt;- apply(dat, 2, mean)
 plot(avg_day_inflammation)</code></pre>
<p>to exit R type</p>
<pre class="{r,echo=false}"><code> q()</code></pre>
<p>Further details on R at <a href="http://rcg.group.shef.ac.uk/iceberg/software/apps/R.html">R documentation for iceberg</a></p>
<section class="challenge panel panel-success">
<div class="panel-heading">
<h2 id="case-study-1"><span class="glyphicon glyphicon-pencil"></span>Case Study</h2>
</div>
<div class="panel-body">
<p>We will run a series of simulations of Fish populations.</p>
<p>Thisa artificial program calculates the effect of quotas on the fish stocks. We will practice using Sun Grid Engine by running this technically simple problem, the politicians prefer us not to know about!</p>
</div>
</section>
<h2 id="practice-session-3">Practice Session 3</h2>
<h3 id="submitting-jobs-to-sun-grid-engine">Submitting jobs to Sun Grid Engine</h3>
<p>From the course directory <sub>~</sub> {.shell} cd sge <sub>~</sub></p>
<p>From an interactive session * Load the compiler module * Compile the fish program * Run test1, test2 and test3</p>
<p>Compile the program using the fortran compiler</p>
<p>First load the compiler module <sub>~</sub> {.shell} module load compilers/intel/14.0 <sub>~</sub></p>
<p>Compile the fish program <sub>~</sub> {.shell} ifort fish.f90 -o fish <sub>~</sub></p>
<p>Start with test1 which is a simple job script. Submit test1 to the batch queue and use qstat to follow its progress.</p>
<p>After running the test1 script have a look at all the other test* scripts in the numeric order. It is important that you follow the numeric order as the problems build up using the previous solutions. The comments in each script file tells you what to do next.</p>
<p>This directory contains an artificial program that calculates the effect of quotas on the fish stocks. We will practice using Sun Grid Engine by running this technically simple problem, the politicians prefer not to know about! The program is named fish and resides in this directory.</p>
<p>When you come to test 3,</p>
<p>Your task is to run the fish program under SGE using qsub. The following steps are advisable: * Run the program interactively to see what it does and what input it expects from the user. * Create an input file which will contain the expected input data ‘that you would normally enter at the keyboard’. * Prepare a job submission script which will * read the data from your input file * write the results into a job output file or another file of your choice. * Submit the script to SGE. * Add commands to join the error and normal output into one single file and also to email you about the progress of your job.</p>
<h2 id="practice-session-4">Practice Session 4</h2>
<h3 id="submitting-a-task-array">Submitting a Task Array</h3>
<p>Continuing with the fish population program</p>
<p>Run the SGE task array example Run test4, test5</p>
<h2 id="resource-links">Resource Links</h2>
<ul>
<li><a href="https://etherpad.mozilla.org/CzIWonFrAs">Shared Notepad</a></li>
<li><a href="http://rcg.group.shef.ac.uk/courses/hpcintro/downloads/hpc_intro.tgz">Course Examples</a></li>
</ul>
        </div>
      </div>
      </article>
      
      <div class="footer">
      <p align="RIGHT">
      </p><table align="RIGHT">
      <tbody><tr>
      <!----<TD width="150"><A HREF="http://www.sheffield.ac.uk/wrgrid">
          <IMG SRC="../images/crest-l.gif" BORDER="0" ,ALIGN="left"> <BR>
           Home </A>
           </TD>  ----->
      <td width="170"><b>A</b>uthor : <br>
                          <b>E</b>-mail : <br>
                          <b>L</b>ast updated :  </td>
      
      <td>     <i> Research Computing Group, CiCS Dept. <br>
      <a href="mailto:hpchub@sheffield.ac.uk">research-it@sheffield.ac.uk</a> <br>
               </i>
      <script>
      
      <!-- comment
      // document.write('<B> ' + document.lastModified + '</B>')
      var zdate = document.lastModified;
      var zzobj  = new Date(zdate);
      var zzstr  = zzobj.toGMTString();
      var zzind  = zzstr.indexOf( ':', 0 ) - 3;
         document.write('<I>' + zzstr.substring(0,zzind) + '</I>' );
      
      // disengage comment  -->
      
      </script>
      
      </td>
      
      </tr>
      </tbody></table>
      
      </div>
    </div>
    <!-- Javascript placed at the end of the document so the pages load faster -->
    
    
    
    <script src="js/jquery-1.9.1.min.js"></script>
    <script src="css/bootstrap/bootstrap-js/bootstrap.js"></script>
  </body>
</html>
